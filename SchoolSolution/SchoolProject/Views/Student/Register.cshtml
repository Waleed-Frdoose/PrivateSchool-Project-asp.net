@model SchoolProject.Models.StudentCourse

@{
    ViewData["Title"] = "Register";
}

<div class="container mt-5">
    <h1 class="display-4">Register Student</h1>


    <form asp-action="Register" class="mt-4">
        <div asp-validation-summary="ModelOnly" class="alert alert-danger"></div>
            <div class="form-group">
            <label asp-for="StudentId" class="font-weight-bold">Student</label>
                <select asp-for="StudentId" class ="form-control" asp-items="ViewBag.StudentId">
                    @{
                        var x = new SchoolProject.Context.AppDbContext();
                        foreach (var t in x.Students)
                        {
                            <option value="@t.StudentId">@t.StudentName</option>
                        }

                    }
                </select>
            </div>
            <br />
            <div class="form-group">
            <label asp-for="CourseId" class="font-weight-bold">Course</label>
                <select asp-for="CourseId" class ="form-control" asp-items="ViewBag.CourseId">
                    @{
                        var y = new SchoolProject.Context.AppDbContext();
                        foreach (var t in y.Courses)
                        {
                            <option value="@t.CourseId">@t.CourseName</option>
                        }

                    }
                    @*
                       2 list او نعمل هل شي عن طريق انشاء كلاس جديد وفيه 
                       list<Student> , list<Course>

                       تستقبل مودل هذا الكلاس الجديد view وبخلي هي ال  

                       وبمرر له الداتا في الميثود يلي بلكنترول تبع الريجاستير من خلال
                       انشاء اوبجكت من الكلاس الجديد ووضع الداتا فيه من الداتا بيس وتمريره

                       وهذا الشي عملناه لان الفيوو تستقبل مودل واحد فقط

                    *@
                </select>
            </div>
            <br />
            <div class="form-group">
            <input type="submit" value="Register" class="btn btn-primary" />
            </div>
        </form>
    
<p></p>

    <a asp-action="Index" class="btn btn-secondary">Back to List</a>
</div>

@section Scripts {
    @{await Html.RenderPartialAsync("_ValidationScriptsPartial");}
}
